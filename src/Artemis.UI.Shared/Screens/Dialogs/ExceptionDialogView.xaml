<UserControl x:Class="Artemis.UI.Shared.Screens.Dialogs.ExceptionDialogView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:s="https://github.com/canton7/Stylet"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             xmlns:dialogs="clr-namespace:Artemis.UI.Shared.Screens.Dialogs"
             xmlns:avalonedit="http://icsharpcode.net/sharpdevelop/avalonedit"
             mc:Ignorable="d"
             d:DesignHeight="163.274" d:DesignWidth="254.425"
             d:DataContext="{d:DesignInstance dialogs:ExceptionDialogViewModel}">
    <StackPanel Orientation="Vertical" HorizontalAlignment="Right" Margin="16">
        <TextBlock Style="{StaticResource MaterialDesignHeadline6TextBlock}" Text="{Binding Header}"
                   TextWrapping="Wrap" />
        <Separator Margin="0 15" />
        <ScrollViewer MaxHeight="500" HorizontalScrollBarVisibility="Disabled" VerticalScrollBarVisibility="Auto">
            <StackPanel>
                <ItemsControl ItemsSource="{Binding Exceptions}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <StackPanel>
                                <TextBlock Style="{StaticResource MaterialDesignBody1TextBlock}" Text="Stack trace"
                                           TextWrapping="Wrap" FontWeight="Bold" />

                                <avalonedit:TextEditor SyntaxHighlighting="C#"
                                                       FontFamily="pack://application:,,,/Resources/Fonts/#Roboto Mono"
                                                       FontSize="10pt"
                                                       IsReadOnly="True"
                                                       Document="{Binding Document}"
                                                       HorizontalScrollBarVisibility="Auto"
                                                       VerticalScrollBarVisibility="Auto"
                                                       MaxWidth="1000"
                                                       Margin="0 10 10 0"
                                                       Padding="10" />

                                <Separator Margin="0 15" />
                            </StackPanel>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </StackPanel>
        </ScrollViewer>
        <Button Style="{StaticResource MaterialDesignFlatButton}" IsDefault="True" Margin="0 8 0 0"
                Command="{s:Action Close}" Content="Close" HorizontalAlignment="Right" />
    </StackPanel>
</UserControl>